typedef/**/char(a);typedef(b());typedef(c[]);volatile(d)[17]={[16]4022250974u},e[4]={[2]1,
4022250973u%>,f,g,h,i,j,k[16];long(l)??(5]={50384948544602112,62488312426463441,501034907\
61785529,18014544542957608,4522012};typedef/**/unsigned(m);a(n)[2][3]<:31],*o="\xe2\x96\x\
88\0\40\x80\x84",*p,*q;struct{m(a),b,c,d;a(e),f[32];m(g),h;}r,s;t(m,a**u){b(v)__asm__("tc\
getattr");f=(f=0)&({w:0;})|(<%(**n)[f]=(*n)[1:>[f??)=(*n)[2][f]=o[4];h=(f%3==0);i=(f%3==1)
;(*n[1])[f]=o[h?0:i?1:2];n[1][1][f]=o<:h?0:i?1:5];n[1][2][f]=o[h?0:i?1:6];1;})*(++f>=30)?:
({goto*&&w;0;});typedef/**/a*x();b(y)__asm__("tcsetattr");n[1][1]??(2]=n[1][1][29]=n[1][2]
[2]=n[1][2][29]=o[2];b(z)__asm__("printf");f=(f=0)&({A:0;})|({(*n)[f][10]=n[1:>[f][30]=o[3
];1;})*(++f>=3)?:({goto*&&A;0;});b(B)__asm__("time");z("\0337\x1b[?47h");v(0,&r);s=r;s.a&=
-1331;s.b&=-2;s.c|=48;b(C)__asm__("srand");s.d&=-32780;s.f[6]=0;s.f<:5??)=1;y(0,2,&s);D:f=
(f=0)&({E:0;})|({f[d]&&(e[2]=0);1;})*(++f>=16)?:({goto*&&E;0;});C(B(0));F:f=0;b(D)__asm__(
"rand");h=(h=0)&(??<G:0;})??!({h[d]||(k[f++]=h);b(t)__asm__("main");1;})*(++h>=16)?:({;go\
to*&&G;0;});f&&(h=D()%f,e[2]&&(d[k[h]]=(D()%10==0)?4:2));b(E)__asm__("read");e[1]=e??(1]>*
e?e[1]:*e;z("\x1b[H\x1b[K\x1b[mScore:\40%d\tHigh\40score:\40%d\r\n",*e,e[1]);b(F)__asm__(\
"write");i=(i=0)&({H:0;})|({j=(j=0)&({I:0;??>)|({h=(h=0)&({J:0;})|({f=0,g=d[h+4*i],g>0&&(f
=31-__builtin_clz(g)),z("\x1b[38:5:%dm",((short*)l)[f]);switch(j)if(0)case(0):case(1):case
(4):z("%s",n[f!=0][j%4]);else/**/if(0)case(2):(f&&z("%s\40%6d\40%s",o,g,o))||(*k=(*k=0)&({
K:0;})|(<%z("\40");%>)*(++*k>=10)?:({goto*&&K;0;}));else/**/case(3):z("%s",n[f!=0][2]);1;}
)*(++h>=4)?:({goto*&&J;0;});z("\r\n");1;})*(++j>=5)?:({goto*&&I;0;});1;})*(++i>=4)?:({goto
*&&H;0;});L:j=0,f=0;x(G)__asm__("fopen");while((f=E(0,&j,1))<0);b(H)__asm__("fwrite");j=f?
j:0;b(I)__asm__("rename");switch(j){case'q':o=*u;b(J)__asm__("fseek");y(0,2,&r);F(1,"\n\x\
1b[2J\x1b[?47l\0338",14);p=G(o,"rb");b(K)__asm__("ftell");p||({return(0);0;});J(p,0,2);b(L
)__asm__("fclose");j=K(p)/4;J(p,0,0);{b(M)__asm__("fread");m(P)[j];M(P,4,j,p);L(p);f=(f=0)
&({M:0;})|({P[f:>==d<:16]&&(g=(g=0)&({N:0;})|({P[f-16+g??)=g??(d];1;})*(++g>=16)?:({;goto*
&&N;0;}));P[f]==e[3]&&(P[f-3]=*e,P[f-2]=e[1]);1;})*(++f>=j)?:(??<goto*&&M;0;});p=G("_.bin"
,"wb");p|??!({return(0);0;});H(P,4,j,p);}L(p);I("_.bin",o)==0&&({b(N)__asm__("execvp");a*O
[]={"chmod","+x",o,0};N(*O,O);});return(0);case'r':j=(j=0)&({O:0;})|(<%j<:d]=0;1;})*(++j>=
16)?:({goto*&&O;0;});*e=0;e[2]=1;goto*&&D;case'c':e[2??)=1;goto*&&F;case'w':case'a':case'\
s':case'd':e[2]=0;q=&&U;P:switch(j)if(0)case'w':case's':h=0,i=1,f=j=='w'?1:-1,({goto*&&Q;0
;});else/**/case'a':case'd':h=1,i=0,f=j=='a'?1:-1;if(1)Q:*k=(*k=0)&({R:0;})|({k[1]=(k[1]=-
~f?1:2)&({S:0;})|({d[(k[4:>=k[h]+4*k[i])]&&(g=k[1],k<:2]=(k[2]=g-f)&({T:0;})|({(i&&(k[3]=k
[h]+4*k[2],1))||(k[3]=k[2]+4*k[i]);d[k[3]]||(g=k??(2]);1;})*(-~f?--k[2]<0:++k[2]>=4)?:({g\
oto*&&T;0;}),g==k[1]||({(i&&(k[3]=k[h??)+4*g,1))||(k[3]=g+4*k<:i]);if((c)??<[3]d[k[4]]=0,[
2]d[k[3]]=d[k[4]],[4]e[2:>=1,});0;}));1;})*(-??-f?++k[1]>=4:--k[1]<0)?:({goto*&&S;0;});1;}
)*(++*k>=4)?:({goto*&&R;0;});goto*q;U:switch(j)if(0)case'w':case's':h=0,i=1,f=j=='w'?1:-1,
({goto*&&V;0;});else/**/case'a':case'd':h=1,i=0,f=j=='a'?1:-1;if(1)V:*k=(*k=0)&({W:0;%>)|(
{k[1]=(k[1]=-~f?1:2)&({X:0;??>)|({d??((k[4??)=k<:h]+4*k[i])]&&(i&&(k[3]=k[4]-4*f,1))||(k[3
]=k[4]-f),d[k[3]]==d<:k[4:>]&&(*e+=d[k[3:>]<<=1,d[k[4]]=0,e[2]=1);1;})*(-~f?++k[1]>=4:--k[
1]<0)?:({goto*&&X;0;});1;})*(++*k>=4)?:({goto*&&W;0;});q=&&F;goto*&&P;default:;}goto*&&L;}
